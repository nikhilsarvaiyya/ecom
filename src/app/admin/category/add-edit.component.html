<h1>{{title}}</h1>

<form *ngIf="!loading" [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="row">
        
        <div class="col-md-4">
            <div class="form-group" *ngIf="zeroPath !== 'subcategory'">
                <label for="category">Category</label>
                <input type="text" class="form-control" name="category" id="category" placeholder="Enter Category"
                    [ngClass]="{ 'is-invalid': submitted && f.category.errors }" formControlName="category">
                <div *ngIf="submitted && f.category.errors" class="invalid-feedback">
                    <div *ngIf="f.category.errors.required"> category is required</div>
                </div>
            </div>
            <div *ngIf="zeroPath === 'subcategory'">
                <label for="subCategory">Sub Category</label>
                <div class="form-group input-group" >
                    <input type="text" class="form-control" name="subCategory" id="subCategory" placeholder="Enter Sub Category"
                        [ngClass]="{ 'is-invalid': submitted && f.subCategory.errors }" formControlName="subCategory">
                    <div class="input-group-append">
                        <button  (click)="addSubcategory()" type="button" class="btn btn-primary bi bi-plus "></button>
                    </div>
                    <div *ngIf="submitted && f.subCategory.errors" class="invalid-feedback">
                        <div *ngIf="f.subCategory.errors.required"> subCategory is required</div>
                    </div>
                </div>
            </div>
            <div class="mt-2">
                <button [disabled]="submitting" class="btn btn-primary">
                    <span *ngIf="submitting" class="spinner-border spinner-border-sm me-1"></span>
                    Save
                </button>
                <a routerLink="/admin/category" class="btn btn-link">Cancel</a>
            </div>
        </div>
        <div class="col-md-4" *ngIf="allSubCategory?.length !== 0">
            <ul class="list-group mt-3" >
                <li class="list-group-item d-flex justify-content-between align-items-center" 
                *ngFor="let cat of allSubCategory">
                  {{cat}}
                  <button (click)="removeSubcategory(cat)" type="button" class="btn btn-danger badge badge-primary badge-pill "> 
                    <i class="bi bi-x-lg " ></i> 
                  </button>
                </li>
            </ul>
        </div>
        
        

        
    </div>
    
 
</form>
<div *ngIf="loading" class="text-center m-5">
    <span class="spinner-border spinner-border-lg align-center"></span>
</div>



<!-- 
    <form class="example-form" [formGroup]="form">
    <mat-form-field class="example-full-width">
      <mat-label>Number</mat-label>
      <input type="text"
             placeholder="Pick one"
             aria-label="Number"
             matInput
             formControlName="category"
             [matAutocomplete]="auto">
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
        <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
          {{option}}
        </mat-option>
      </mat-autocomplete>
    </mat-form-field>
  </form>
 -->